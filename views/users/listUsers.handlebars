{{> header}}


<div class="w-100">
    <div class='w-full h-[90vh] bg-zinc-800'>
        <div class="flex flex-col justify-between px-10 py-4">

            

            <h1 class="text-center text-3xl text-white">All Users</h1>
            <a href="/dashboard" 
                onclick="window.history.back()" 
                class="text-white w-[3.8%] font-bold border border-white rounded-lg px-4 py-2 mb-3 hover:scale-110 hover:text-black transition transform"
            >
                <img class="w-6 h-6" src="https://img.icons8.com/?size=100&id=26194&format=png&color=ffffff" alt="Back">
            </a>
            <div class="flex justify-between" > 
                <a href="/user/addUser" class='px-4 py-2 bg-green-500 text-white rounded-md'>Add User</a>
                <a href="/task/alltasks" class='px-4 py-2 bg-blue-500 text-white rounded-md'>View Assigned Tasks</a>
            </div>
        </div>

        <div class='px-10 py-4'>
            {{#if users.length}}
                <table class='table-auto w-full bg-white rounded-md'>
                    <thead>
                        <tr class='bg-gray-700 text-white'>
                            <th class='px-4 py-2'>ID</th>
                            <th class='px-4 py-2'>Name</th>
                            <th class='px-4 py-2'>Email</th>
                            <th class='px-4 py-2'>Mobile No</th>
                            <th class='px-4 py-2'>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each users}}
                            <tr class='bg-gray-100'>
                                <td class='border px-4 py-2 text-center'>{{this.id}}</td>
                                <td class='border px-4 py-2 text-center'>{{this.name}}</td>
                                <td class='border px-4 py-2 text-center'>{{this.email}}</td>
                                <td class='border px-4 py-2 text-center'>{{this.mobile}}</td>
                                <td class='border py-2'>
                                    <div class='flex justify-center'>
                                        <a href="/user/assignTask/{{this.id}}" class="text-green-500 mx-1">Assign Task</a>
                                        &nbsp;|&nbsp;
                                        <a href="/user/allTasksOfAUser/{{this.id}}" class="text-violet-500 mx-1">Get all Tasks</a>
                                        &nbsp;|&nbsp;
                                        <a href="/user/edit/{{this.id}}" class="text-blue-500 mx-1">Edit User</a>
                                        &nbsp;|&nbsp;
                                        <a href="/user/delete/{{this.id}}" class="text-red-500">Delete user</a>
                                    </div>
                                </td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            {{else}}
                <p class="text-white">No users found. Please add a new user.</p>
            {{/if}}
        </div>
    </div>
</div>
